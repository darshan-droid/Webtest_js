<!DOCTYPE html>
<html lang="en">
<head>
    </head>
<body>

    <canvas id="unity-canvas" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10;"></canvas>

    <div id="uiOverlay">
        <div id="sceneTitle">Welcome to LIVR Singapore_AR</div>
        <div id="debugLog"></div>
    </div>

    <script type="module" src="./app.js"></script>

	<script src="./Build/UnityProject.framework.js"></script>
	<script src="./Build/UnityProject.loader.js"></script>
    
    <script>
        // Define the configuration object for the Unity build
        var unityConfig = {
            dataUrl: "./Build/UnityProject.data",
            frameworkUrl: "./Build/UnityProject.framework.js",
            codeUrl: "./Build/UnityProject.wasm",
            
            // Crucial settings for AR/Three.js overlay:
            webglContextAttributes: { 
                alpha: true // ðŸ‘ˆ Allows camera/Three.js to show through
            },
            matchWebGLToCanvasSize: true,
        };

        var unityCanvas = document.querySelector("#unity-canvas");
        
        // Load the Unity instance
        createUnityInstance(unityCanvas, unityConfig, (progress) => {
            // Optional: Loading progress handler (e.g., for a progress bar)
        }).then((instance) => {
            // --- SUCCESS: UNITY IS LOADED AND READY! ---
            window.unityInstance = instance; // ðŸ”‘ Expose globally for the bridge (jslib)
            
            // ðŸ’¡ Call the readiness function defined in your app.js
            if (typeof window.UnityLoadedAndReady === 'function') {
                window.UnityLoadedAndReady();
            }

        }).catch((message) => {
            console.error("Unity Loading Failed:", message);
        });
    </script>
</body>
</html>